<div class="flex w-full items-center gap-4 group cursor-default" (mouseenter)="hovered = true"
  (mouseleave)="hovered = false">
  <div class="flex">
    @if (father) {
      <span class="">{{index+1}}</span>
    }@else {
      <span class="w-4">{{index+1}}</span>
    }
  </div>
  <div class="flex flex-grow gap-4 items-center">
    <app-input-complete-task
      [completed]="task.completed"
      (onToggleChange)="ChangeCompleteStatusTask($event)"
    >
    </app-input-complete-task>
    <app-select-priority
      [priority]="task.priority"
      (onPriorityChange)="ChangePriority($event)"
    ></app-select-priority>
    <div>{{task.name}}</div>
  </div>
  <div>
    <ul class="flex gap-2">
      @for (category of task.categories; track $index) {
        <li class="flex gap-1 items-center rounded">
          <span class="w-2 h-2 rounded"
            [style.backgroundColor]="category.color"
          >
          </span>
          <span>{{category.name}}</span>
        </li>
      }
    </ul>
  </div>
  <div>{{task.deadline | date : 'MMMM-dd'}}</div>
  <div class="gap-4 flex items-center">
    <app-input-contextual-menu
      [task]="task"
      [categories]="categories"
      (onChangePriority)="ChangePriority($event)"
      (onChangeCompleted)="ChangeCompleteStatusTask($event)"
      (onDelete)="DeleteTask(task.id)"
    ></app-input-contextual-menu>
  </div>
</div>
